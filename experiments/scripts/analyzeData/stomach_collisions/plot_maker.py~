import numpy as np
import matplotlib.pyplot as plt


x = np.arange(2,72,3)
#data = np.array([146.46031189, 526.5378418, 719.746521, 877.02825928, 980.95404053, 1060.71240234, 1113.99511719, 1153.0637207, 1185.11499023, 1206.82714844, 1246.4675293, 1336.64575195, 1317.92614746, 1336.84313965, 1356.78967285])


#CAMERA
"""
std_ = np.array([ 0.27263864, 1.5034569, 2.45146407, 3.17801018,3.99896418, 4.70499584, 5.21184174, 5.87905252, 6.47582342, 6.95428864, 7.40358469, 7.54420701, 7.81748824, 7.61690797, 7.89160847, 7.6662108, 7.67155996, 7.27697319, 7.54690607, 7.46533397, 7.64529531, 7.71941739, 7.85212519, 7.83597958, 7.93320793])

max_ = np.array([ 2.17968392, 9.88029099, 16.78793144, 26.0594368, 31.07348633, 38.64693451, 45.05812836, 51.55269623, 57.41029739, 59.94166946, 62.14739609,  66.76114655, 71.00634003, 74.91562653, 78.51244354, 75.14122009, 77.92017365, 74.59101105, 76.70912933, 78.5699234, 80.19467163, 81.60448456, 82.8200531, 83.86135101,  84.74740601])

mean_ = np.array([ 0.00050285, 0.00168538, 0.0041673, 0.00308857, 0.00275648, 0.00583328, 0.0037272, 0.00184301, 0.00308461, 0.00254478, 0.0024771, 0.00173451, 0.00085883, 0.00532895, 0.00743131, 0.00357441, 0.00373777, 0.00602677, 0.0084709, 0.00841894, 0.00868739, 0.00896247, 0.00918562, 0.0094127, 0.009637]) 

min_ = np.array([-2.66803861, -11.47161579, -15.75120831,-23.43330956, -25.93664932, -37.04927063, -43.47837448, -48.13012695, -51.76875305, -57.52694702, -60.30580902, -59.82385254, -63.88955307, -62.32636261, -65.4950943, -68.48934174, -71.29651642, -74.50007629, -76.47171021, -78.01391602, -79.33616638, -80.46471405, -81.4240036, -82.23639679, -82.92198944])


#MICROPHONE
std_ = np.array([ 21723.12814582, 3.18256581, 0.65608773, 0.41590138, 0.27061906, 0.1914207, 0.16563204, 0.1179876, 0.12886896, 0.08594668, 0.09658906, 0.07521794,  0.08003921, 0.06919389, 0.07112935, 0.05664532, 0.06019908, 0.05009053, 0.05467933, 0.04782333, 0.04962919, 0.04610909, 0.04828404, 0.04016206, 0.04537424]) 

max_ = np.array([ 829810., 127.4291153, 12.022089, 10.85944653, 5.40323257, 3.15934563, 2.71912432, 2.35301733, 2.25216866, 1.61275351, 1.60001576, 1.63510478, 1.29963088, 1.78055251, 1.29963088, 1.29963088, 1.29963088, 1.29963088, 1.29963088, 1.29963088, 1.29963088, 1.29963088, 1.29963088, 1.29963088, 1.29963088]) 

mean_ = np.array([ 1068.39704067, 0.5600833, 0.22384429, 0.12475705, 0.09736583, 0.068528, 0.06075684, 0.04577078, 0.04467269, 0.03463878, 0.03431628, 0.02848613, 0.02861681, 0.02439857, 0.0241452, 0.0208861, 0.02078883, 0.01789773, 0.01850378, 0.01638619, 0.01671739, 0.01466473, 0.01559911, 0.01325941, 0.0141347]) 

min_ = np.array([ 0., 0., 0., 0.,  0.,  0., 0.,  0., 0.,  0., 0.,  0., 0., 0., 0., 0., 0., 0., 0.,  0., 0., 0., 0., 0., 0.])
"""

#IMU

std_ = np.array([[98210.04996906,    9429.88705109,  390631.97516512, np.nan,              np.nan,              np.nan], 
		[27479.02721321,   6053.13027158,  251471.73676812,  np.nan,              np.nan,              np.nan], 
                [50585.09651438,    4194.21556301,  209182.05294804, np.nan,              np.nan,              np.nan], 
		[ 15072.08836744,   2827.60090185,  65032.66291131,             np.nan, np.nan,             np.nan], 
		[ 13911.05461385,   2935.60794446,  60662.2364606 ,             np.nan, np.nan,             np.nan], 
		[ 12121.78187313,   2038.99106806,  49192.53996162,             np.nan,  np.nan,             np.nan],
		[ 13547.40499136,   2858.08590845,  47693.68116719,             np.nan,  np.nan,             np.nan], 
		[ 14063.48634843,   2319.36971987,  34471.01191702,             np.nan,  np.nan,             np.nan], 
		[ 17010.33317687,   1601.54767011,  54199.65553679,             np.nan,  np.nan,             np.nan], 
		[  6873.83797745,   2062.84992305,  52111.22587525,             np.nan,  np.nan,             np.nan], 
		[ 16569.37390068,   1281.11387616,  14249.93607573,             np.nan, np.nan,             np.nan], 
		[ 1191.91818804,   220.70355051,  5841.96945431,            np.nan,   np.nan,            np.nan], 
		[ 1261.42977259,   213.57029258,  4088.89787372,            np.nan,   np.nan,            np.nan], 
		[ 35872.02027048,   2610.91742391,  44292.43439959,             np.nan, np.nan,             np.nan], 
		[  788.10449685,    72.78618392,  1563.8950471 ,            np.nan,  np.nan,            np.nan], 
		[  39.10349619,   70.21791206,  107.74832772,           np.nan, np.nan,           np.nan],
		[  42.04187201,  123.3299884 ,  166.06685329,           np.nan, np.nan,           np.nan], 
		[  7447.37753547,    873.5685318 ,  61365.82867215,             np.nan, np.nan,             np.nan], 
		[  39.88926709,   25.47083199,  196.34215729,           np.nan,  np.nan,           np.nan], 
		[  99.2133925 ,   82.63279449,  210.11930045,           np.nan,  np.nan,           np.nan], 
		[ 109.2264253 ,   48.39989086,  226.8246815 ,           np.nan,  np.nan,           np.nan], 
		[  2486.50244388,    577.79573185,  51193.91606196,             np.nan,  np.nan,             np.nan], 
		[ 20.58891898,  27.90734126,   7.63774814,          np.nan,   np.nan,          np.nan], 
		[ 28.96528927,  32.02430284,  29.53902454,          np.nan,    np.nan,          np.nan]]) 

max_ = np.array([[1808833.625   ,   154400.140625,  5661163.5     ,             np.nan,   np.nan,             np.nan], 
		 [  271173.25     ,    70068.6015625,  2719155.       ,   np.nan,              np.nan,              np.nan], 
		[  593369.125     ,    31211.78710938,  1940304.5     ,    np.nan,               np.nan,               np.nan], 
		[ 113755.6015625 ,   24297.84765625,  520809.        ,    np.nan,              np.nan,              np.nan], 
		[ 116590.7890625 ,   23797.91796875,  433330.15625   ,    np.nan,              np.nan,              np.nan], 
		[ 103932.0078125 ,   14909.61621094,  385881.65625   ,    np.nan,              np.nan,              np.nan], 
		[ 112801.5078125 ,   18245.10742188,  374264.875     ,    np.nan,              np.nan,              np.nan], 
		[ 129200.4921875 ,   15720.22460938,  296217.21875   ,    np.nan,              np.nan,              np.nan], 
		[ 148286.953125  ,    8974.99316406,  471107.65625   ,    np.nan,              np.nan,              np.nan], 
		[  43755.58984375,   16266.48144531,  422963.21875   ,    np.nan,              np.nan,              np.nan], 
		[ 133678.015625  ,   10223.49414062,  114605.53125   ,    np.nan,              np.nan,              np.nan], 
		[  8074.43261719,   1458.85107422,  40023.3359375 ,             np.nan,        np.nan,             np.nan], 
		[  9358.89355469,   1588.07189941,  30185.0546875 ,             np.nan,        np.nan,             np.nan], 
		[ 223526.53125   ,   16368.54394531,  308815.8125    ,          np.nan,              np.nan,              np.nan], 
		[  5525.01757812,    389.70901489,  10966.5       ,             np.nan,        np.nan,             np.nan], 
		[ 204.2180481 ,  390.6060791 ,  729.46801758,           np.nan,     np.nan,           np.nan], 
		[  245.89683533,   734.8692627 ,  1094.43225098,            np.nan, np.nan,            np.nan], 
		[  45719.16796875,    4374.38476562,  396037.59375   ,      np.nan,              np.nan,              np.nan], 
		[  176.91925049,   107.72373962,  1234.78100586,            np.nan,           np.nan,            np.nan], 
		[  599.52392578,   499.84265137,  1302.77514648,            np.nan,          np.nan,            np.nan], 
		[  590.2300415 ,   237.02778625,  1349.91235352,            np.nan,         np.nan,            np.nan], 
		[  14732.59863281,    3424.75439453,  303008.875     ,      np.nan,              np.nan,              np.nan], 
		[  75.89151001,  116.1770401 ,   24.98713303,           np.nan,      np.nan,           np.nan], 
		[ 134.92549133,  126.00914764,  119.75331116,           np.nan,      np.nan,           np.nan]])


mean_ = np.array([[ 11831.19871125,   1372.16307925,  66234.33035001,             np.nan,     np.nan,             np.nan], 
		  [  7447.65738188,   1488.60922895,  55100.67907108,             np.nan,     np.nan,             np.nan], 
		  [ 11037.82038574,   1324.82822516,  45862.23564439,             np.nan,     np.nan,             np.nan], 
		  [  4594.07743823,    915.78774044,  16261.27586357,             np.nan,      np.nan,             np.nan], 
		  [  3613.92814771,    791.89349494,  14542.45124199,             np.nan,      np.nan,             np.nan], 
		  [  3300.4815505 ,    653.31644653,  11345.10635249,             np.nan,      np.nan,             np.nan], 
		  [  3219.97572647,    823.81916256,  11223.3095838 ,             np.nan,      np.nan,             np.nan], 
		  [ 2158.83612023,   528.27014313,  5943.44927008,            np.nan,    np.nan,            np.nan], 
		  [ 2675.27680089,   435.61115143,  8234.23870588,            np.nan,    np.nan,            np.nan], 
		  [ 1494.08556656,   490.12956913,  8927.29345508,            np.nan,    np.nan,            np.nan], 
		  [ 2233.10249814,   229.64326799,  2247.72787504,            np.nan,    np.nan,            np.nan], 
		  [  274.69558024,    71.36279666,  1280.83906275,            np.nan,    np.nan,            np.nan], 
		  [ 222.32714318,   53.29194046,  663.88697019,           np.nan,  np.nan,           np.nan], 
		  [ 7108.62758381,   605.20306039,  8751.39269831,            np.nan,   np.nan,            np.nan], 
		  [ 140.02123646,   33.18423201,  271.3019117 ,           np.nan, np.nan,           np.nan], 
		  [ 24.21226569,  31.63109338,  32.69086364,          np.nan,   np.nan,          np.nan], 
		  [ 25.19451233,  48.32324719,  43.36037289,          np.nan,   np.nan,          np.nan], 
		  [  1544.86233984,    213.21990421,  10916.0759428 ,             np.nan,    np.nan,             np.nan], 
		  [ 31.70065418,  18.6447635 ,  52.09179947,          np.nan,     np.nan,          np.nan], 
		  [ 40.55469063,  37.79853272,  50.56002452,          np.nan,  np.nan,          np.nan], 
		  [ 50.61227251,  31.31462037,  61.77208499,          np.nan,  np.nan,          np.nan], 
		  [  449.28747474,   143.05417638,  8922.23148326,            np.nan,   np.nan,            np.nan], 
		  [ 15.81914626,  17.94534386,   6.60321782,          np.nan,  np.nan,          np.nan], 
		  [ 21.70217225,  24.80428973,  18.35261046,          np.nan,  np.nan,          np.nan]])

min_ = np.array([[2.31076629e-05,   1.40381962e-05,   1.72455810e-04,  np.nan,              np.nan,              np.nan], 
		 [  1.59072839e-02,   2.01034796e-04,   1.45952126e-05, np.nan,              np.nan,              np.nan], 
		 [ 0.14784038,  0.00384647,  0.02129017,         np.nan,         np.nan,         np.nan], 
		 [ 0.00256999,  0.00086115,  0.15799883,         np.nan,         np.nan,      np.nan], 
		 [ 0.002938  ,  0.00915675,  0.00093786,         np.nan,         np.nan,      np.nan], 
		 [ 0.0257404 ,  0.01014741,  0.18504472,         np.nan,         np.nan,      np.nan], 
		 [ 0.02786687,  0.30435592,  0.05187993,         np.nan,         np.nan,   np.nan], 
		 [ 0.00163761,  0.56289917,  0.0090275 ,         np.nan,         np.nan,    np.nan], 
		 [ 0.10454676,  0.00089879,  0.05619407,         np.nan,         np.nan,    np.nan], 
		 [ 0.12091064,  0.00094369,  0.03954484,         np.nan,         np.nan,    np.nan], 
		 [  1.76890389e-05,   1.02073816e-03,   3.78871225e-02,   np.nan,              np.nan,              np.nan], 
		 [ 0.10303317,  0.00138628,  0.06137266,         np.nan,         np.nan,  np.nan], 
		 [ 0.34026858,  0.00161022,  0.0494397 ,         np.nan,         np.nan,  np.nan], 
		 [ 0.11494123,  0.00144273,  0.02083506,         np.nan,         np.nan, np.nan], 
		 [ 0.00443517,  0.00234127,  0.12730403,         np.nan,         np.nan, np.nan],
		 [ 0.06931551,  0.09914422,  0.09075002,         np.nan,         np.nan,   np.nan], 
		 [ 0.02786374,  0.06783063,  0.02776451,         np.nan,         np.nan,      np.nan], 
		 [ 0.11648896,  0.0348816 ,  0.0383558 ,         np.nan,         np.nan,    np.nan], 
		 [ 0.02828467,  0.01414814,  0.00248808,         np.nan,         np.nan,    np.nan], 
		 [ 0.01431711,  0.46913692,  0.00586432,         np.nan,         np.nan,    np.nan], 
		 [ 0.05839041,  0.05765234,  0.0012412 ,         np.nan,         np.nan,    np.nan], 
		 [ 0.02821405,  0.00233499,  0.00474393,         np.nan,         np.nan,    np.nan], 
		 [ 0.00052592,  0.00173699,  0.02010475,         np.nan,         np.nan,    np.nan], 
		 [ 0.02696002,  0.00183246,  0.01077881,         np.nan,         np.nan,    np.nan]])




for i in range(6):
    s = std_[:,i]
    m = mean_[:,i]
    _min = min_[:,i]
    _max = max_[:,i]
    plt.xlim(0.1, x[-1]+1)
    plt.figure() #TODO

    print len(m)st
    print len(x)
    plt.errorbar(np.asarray(x), m, yerr=s, fmt='ok', lw=3)
    plt.errorbar(np.asarray(x), m, [m - _min, _max - m], fmt='.k', ecolor='gray', lw=1)

    plt.xlabel("Window Size")
    plt.ylabel("CUSUM Error")
    plt.legend()
    plt.title('IMU Stomach Collision CUSUM Error ' + str(i))
    plt.savefig('stomach_collision_imu_cusum_' + str(i) + '.png') # TODO
    plt.show()




"""
plt.errorbar(np.asarray(x), mean_.flatten(), yerr=std_.flatten(), fmt='ok', lw=3)
plt.errorbar(np.asarray(x), mean_, [mean_ - min_, max_ - mean_], fmt='.k', ecolor='gray', lw=1)

plt.legend()
plt.title('IMU Stomach Collision CUSUM Error')
plt.xlabel("Matching Threshold")
plt.ylabel("CUSUM Error")
plt.savefig("stomach_collision_camera_cusum.png");
plt.show()
"""
